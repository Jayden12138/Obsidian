```js




it('issue', () => {
	const foo = reactive({
		count: 0,
		name: 'cui',
	})

	effect(() => {
		effect(() => {
			console.log('inside effect: ', foo.name)
		})
		console.log('outside effect: ', foo.count)
	})

	foo.count++
})


/**

当执行到foo.count++时
当前foo收集到的依赖只有name？count没有
所以在foo.count++触发set时，遍历执行dep时报错


1. 嵌套effect，需要在effect.run时，记录下上一个activeEffect

（这里如果不记录，当inner effect init后，再outer effect中获取不到activeEffect，收集依赖会失败



*/







```