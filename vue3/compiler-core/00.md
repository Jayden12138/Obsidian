---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠==


# Text Elements

compiler-core

template => render


parse: template string -> ast

transform: 处理节点 增删改

codegen: 根据ast 拼接成字符串 => render函数

 ^Hnhta7Sg

parse ^QL3rCV5y

transform ^NkpTFUuA

codegen ^Uv4M1lxo

template -> string ^mv9VHBrk

ast ^l7AnemAS

ast ^eYtj8S2q

render ^ztTUE8Y6

compiler-core ^FEVzVuYf

ast: Abstract syntax tree(抽象语法树)

为了方便后续对节点的处理，相比于直接对string进行处理
将string转换为对象，对对象进行处理会更加方便 ^sNgQmnki

parse ^B3D3QwCA

%%
# Drawing
```json
{
	"type": "excalidraw",
	"version": 2,
	"source": "https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/2.0.23",
	"elements": [
		{
			"type": "text",
			"version": 206,
			"versionNonce": 1722685754,
			"isDeleted": false,
			"id": "Hnhta7Sg",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -536.6881311369837,
			"y": -181.65392978332426,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 435.9197998046875,
			"height": 325,
			"seed": 1430735034,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710319300319,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "\ncompiler-core\n\ntemplate => render\n\n\nparse: template string -> ast\n\ntransform: 处理节点 增删改\n\ncodegen: 根据ast 拼接成字符串 => render函数\n\n",
			"rawText": "\ncompiler-core\n\ntemplate => render\n\n\nparse: template string -> ast\n\ntransform: 处理节点 增删改\n\ncodegen: 根据ast 拼接成字符串 => render函数\n\n",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "\ncompiler-core\n\ntemplate => render\n\n\nparse: template string -> ast\n\ntransform: 处理节点 增删改\n\ncodegen: 根据ast 拼接成字符串 => render函数\n\n",
			"lineHeight": 1.25,
			"baseline": 318
		},
		{
			"type": "rectangle",
			"version": 205,
			"versionNonce": 212977190,
			"isDeleted": false,
			"id": "tukm926LrEDT_iaD0pd6x",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -402.03285435267856,
			"y": 308.8000052315849,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 208.80169677734375,
			"height": 116.30401611328125,
			"seed": 736262054,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [
				{
					"type": "text",
					"id": "QL3rCV5y"
				},
				{
					"id": "SGxvN0upAfRvXOWIEhCC6",
					"type": "arrow"
				}
			],
			"updated": 1710146706115,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 149,
			"versionNonce": 2082607462,
			"isDeleted": false,
			"id": "QL3rCV5y",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -324.43197849818637,
			"y": 354.45201328822554,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 53.599945068359375,
			"height": 25,
			"seed": 1441236454,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146706115,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "parse",
			"rawText": "parse",
			"textAlign": "center",
			"verticalAlign": "middle",
			"containerId": "tukm926LrEDT_iaD0pd6x",
			"originalText": "parse",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "rectangle",
			"version": 377,
			"versionNonce": 1539340858,
			"isDeleted": false,
			"id": "7Em37ShjkQOlU37y5pAci",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -102.03310285295754,
			"y": 307.60373796735485,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 208.80169677734375,
			"height": 116.30401611328125,
			"seed": 1974976934,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [
				{
					"type": "text",
					"id": "NkpTFUuA"
				},
				{
					"id": "KM1LJfGBpnNao5fStmIoG",
					"type": "arrow"
				},
				{
					"id": "FZPefhnS225OYEIAQy2Nm",
					"type": "arrow"
				}
			],
			"updated": 1710146698354,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 340,
			"versionNonce": 954802938,
			"isDeleted": false,
			"id": "NkpTFUuA",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -45.38220868791848,
			"y": 353.25574602399547,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 95.49990844726562,
			"height": 25,
			"seed": 1507630310,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146698354,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "transform",
			"rawText": "transform",
			"textAlign": "center",
			"verticalAlign": "middle",
			"containerId": "7Em37ShjkQOlU37y5pAci",
			"originalText": "transform",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "rectangle",
			"version": 344,
			"versionNonce": 799570022,
			"isDeleted": false,
			"id": "ZxtD73scyfY0d2MGEraT6",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 201.5450395856583,
			"y": 302.2716892787388,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 208.80169677734375,
			"height": 116.30401611328125,
			"seed": 501463398,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [
				{
					"type": "text",
					"id": "Uv4M1lxo"
				},
				{
					"id": "mZp-Ku4G_ofc1Kr_oYuz9",
					"type": "arrow"
				},
				{
					"id": "KM1LJfGBpnNao5fStmIoG",
					"type": "arrow"
				}
			],
			"updated": 1710146704000,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 317,
			"versionNonce": 1778940838,
			"isDeleted": false,
			"id": "Uv4M1lxo",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 269.0759233747208,
			"y": 347.9236973353794,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 73.73992919921875,
			"height": 25,
			"seed": 1362336934,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146704000,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "codegen",
			"rawText": "codegen",
			"textAlign": "center",
			"verticalAlign": "middle",
			"containerId": "ZxtD73scyfY0d2MGEraT6",
			"originalText": "codegen",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "arrow",
			"version": 283,
			"versionNonce": 1441680550,
			"isDeleted": false,
			"id": "SGxvN0upAfRvXOWIEhCC6",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -699.0285145755951,
			"y": 367.6687627733699,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 294.6086333906991,
			"height": 3.2016302607163993,
			"seed": 314334694,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1710319300766,
			"link": null,
			"locked": false,
			"startBinding": null,
			"endBinding": {
				"elementId": "tukm926LrEDT_iaD0pd6x",
				"gap": 2.3870268322174297,
				"focus": 0.061487571814628814
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					294.6086333906991,
					-3.2016302607163993
				]
			]
		},
		{
			"type": "arrow",
			"version": 392,
			"versionNonce": 1845069414,
			"isDeleted": false,
			"id": "FZPefhnS225OYEIAQy2Nm",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -204.9899776668019,
			"y": 368.40587496330784,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 96.24644252232166,
			"height": 0.388491754040615,
			"seed": 1674244794,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1710319300767,
			"link": null,
			"locked": false,
			"startBinding": null,
			"endBinding": {
				"elementId": "7Em37ShjkQOlU37y5pAci",
				"gap": 6.710432291522693,
				"focus": -0.030955077676079655
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					96.24644252232166,
					-0.388491754040615
				]
			]
		},
		{
			"type": "arrow",
			"version": 498,
			"versionNonce": 1982994470,
			"isDeleted": false,
			"id": "KM1LJfGBpnNao5fStmIoG",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 109.34046604189861,
			"y": 363.9259486310221,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 78.74609375000007,
			"height": 0.6419142426431677,
			"seed": 549349990,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1710319300768,
			"link": null,
			"locked": false,
			"startBinding": {
				"elementId": "7Em37ShjkQOlU37y5pAci",
				"gap": 2.5718721175123704,
				"focus": -0.016232857101798816
			},
			"endBinding": {
				"elementId": "ZxtD73scyfY0d2MGEraT6",
				"gap": 13.45847979375958,
				"focus": -0.032194666793999585
			},
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					78.74609375000007,
					-0.6419142426431677
				]
			]
		},
		{
			"type": "arrow",
			"version": 141,
			"versionNonce": 386386342,
			"isDeleted": false,
			"id": "mZp-Ku4G_ofc1Kr_oYuz9",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 416.0845307849703,
			"y": 360.3844969094172,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 134.7720772879468,
			"height": 0.18055229446179055,
			"seed": 202245178,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 2
			},
			"boundElements": [],
			"updated": 1710319300767,
			"link": null,
			"locked": false,
			"startBinding": {
				"elementId": "ZxtD73scyfY0d2MGEraT6",
				"gap": 5.73779442196826,
				"focus": 0.0018587633457787878
			},
			"endBinding": null,
			"lastCommittedPoint": null,
			"startArrowhead": null,
			"endArrowhead": "arrow",
			"points": [
				[
					0,
					0
				],
				[
					134.7720772879468,
					-0.18055229446179055
				]
			]
		},
		{
			"type": "text",
			"version": 84,
			"versionNonce": 506553894,
			"isDeleted": false,
			"id": "mv9VHBrk",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -664.0048421223959,
			"y": 328.78583635602683,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 178.01983642578125,
			"height": 25,
			"seed": 2104574522,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146710279,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "template -> string",
			"rawText": "template -> string",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "template -> string",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "text",
			"version": 230,
			"versionNonce": 2049413798,
			"isDeleted": false,
			"id": "l7AnemAS",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -172.92138090587787,
			"y": 326.2982177734376,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 35.499969482421875,
			"height": 25,
			"seed": 536798074,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146820972,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "ast",
			"rawText": "ast",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "ast",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "text",
			"version": 170,
			"versionNonce": 1362111354,
			"isDeleted": false,
			"id": "eYtj8S2q",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 133.4180770147417,
			"y": 321.6034807477678,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 35.499969482421875,
			"height": 25,
			"seed": 1783358714,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146719069,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "ast",
			"rawText": "ast",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "ast",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "text",
			"version": 170,
			"versionNonce": 64830182,
			"isDeleted": false,
			"id": "ztTUE8Y6",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": 450.0825929187596,
			"y": 320.79729352678567,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 59.79994201660156,
			"height": 25,
			"seed": 1135240634,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146725110,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "render",
			"rawText": "render",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "render",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "rectangle",
			"version": 257,
			"versionNonce": 77612858,
			"isDeleted": false,
			"id": "hKCbFA4iGOfljlo2QO2A9",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -550.8012811569943,
			"y": 147.5568062918527,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 1033.7667410714291,
			"height": 337.0908900669645,
			"seed": 1725924454,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [],
			"updated": 1710146746658,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 49,
			"versionNonce": 1230567354,
			"isDeleted": false,
			"id": "FEVzVuYf",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -107.27711123511892,
			"y": 175.27470179966517,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 121.69985961914062,
			"height": 25,
			"seed": 2082150778,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146758365,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "compiler-core",
			"rawText": "compiler-core",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "compiler-core",
			"lineHeight": 1.25,
			"baseline": 18
		},
		{
			"type": "text",
			"version": 592,
			"versionNonce": 2004130406,
			"isDeleted": false,
			"id": "sNgQmnki",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -532.4101872519842,
			"y": 668.1797572544639,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 514.4999389648438,
			"height": 100,
			"seed": 889858618,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710147023029,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "ast: Abstract syntax tree(抽象语法树)\n\n为了方便后续对节点的处理，相比于直接对string进行处理\n将string转换为对象，对对象进行处理会更加方便",
			"rawText": "ast: Abstract syntax tree(抽象语法树)\n\n为了方便后续对节点的处理，相比于直接对string进行处理\n将string转换为对象，对对象进行处理会更加方便",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "ast: Abstract syntax tree(抽象语法树)\n\n为了方便后续对节点的处理，相比于直接对string进行处理\n将string转换为对象，对对象进行处理会更加方便",
			"lineHeight": 1.25,
			"baseline": 93
		},
		{
			"type": "rectangle",
			"version": 425,
			"versionNonce": 2083702202,
			"isDeleted": false,
			"id": "CYpHDUaVCCj4peG_noVug",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -556.6764381045386,
			"y": 573.3000401088166,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 620.0481305803573,
			"height": 227.78438023158498,
			"seed": 1807630586,
			"groupIds": [],
			"frameId": null,
			"roundness": {
				"type": 3
			},
			"boundElements": [],
			"updated": 1710146994572,
			"link": null,
			"locked": false
		},
		{
			"type": "text",
			"version": 290,
			"versionNonce": 1007025786,
			"isDeleted": false,
			"id": "B3D3QwCA",
			"fillStyle": "solid",
			"strokeWidth": 2,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"angle": 0,
			"x": -529.5972319103423,
			"y": 602.3250906808032,
			"strokeColor": "#1e1e1e",
			"backgroundColor": "transparent",
			"width": 53.599945068359375,
			"height": 25,
			"seed": 1669148198,
			"groupIds": [],
			"frameId": null,
			"roundness": null,
			"boundElements": [],
			"updated": 1710146994573,
			"link": null,
			"locked": false,
			"fontSize": 20,
			"fontFamily": 1,
			"text": "parse",
			"rawText": "parse",
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "parse",
			"lineHeight": 1.25,
			"baseline": 18
		}
	],
	"appState": {
		"theme": "light",
		"viewBackgroundColor": "#ffffff",
		"currentItemStrokeColor": "#1e1e1e",
		"currentItemBackgroundColor": "transparent",
		"currentItemFillStyle": "solid",
		"currentItemStrokeWidth": 2,
		"currentItemStrokeStyle": "solid",
		"currentItemRoughness": 1,
		"currentItemOpacity": 100,
		"currentItemFontFamily": 1,
		"currentItemFontSize": 20,
		"currentItemTextAlign": "left",
		"currentItemStartArrowhead": null,
		"currentItemEndArrowhead": "arrow",
		"scrollX": 750.5109128766749,
		"scrollY": 232.40565858430864,
		"zoom": {
			"value": 0.9
		},
		"currentItemRoundness": "round",
		"gridSize": null,
		"gridColor": {
			"Bold": "#C9C9C9FF",
			"Regular": "#EDEDEDFF"
		},
		"currentStrokeOptions": null,
		"previousGridSize": null,
		"frameRendering": {
			"enabled": true,
			"clip": true,
			"name": true,
			"outline": true
		}
	},
	"files": {}
}
```
%%